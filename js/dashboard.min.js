"use strict";angular.module("Vastrai",["ui.bootstrap","ui.router","ngCookies","chart.js","angularFileUpload","ngNotify"]),angular.module("Vastrai").factory("AuthInterceptor",["$q","$window","$location",function(t,e,o){return{request:function(t){return t.headers=t.headers||{},e.localStorage.token&&(t.headers.Authorization="Token "+e.localStorage.token),t},responseError:function(r){return 401===r.status?(e.localStorage.removeItem("token"),e.localStorage.removeItem("username"),void o.path("/")):t.reject(r)}}}]),angular.module("Vastrai").constant("API_SERVER","/");
"use strict";angular.module("Vastrai").config(["$stateProvider","$urlRouterProvider","$httpProvider",function(t,e,l){l.interceptors.push("AuthInterceptor"),e.otherwise("/"),t.state("index",{url:"/",templateUrl:"templates/dashboard.html"}).state("chart",{url:"/chart",templateUrl:"templates/chart.html"}).state("login",{url:"/login",templateUrl:"templates/login.html"}).state("register",{url:"/register",templateUrl:"templates/register.html"}).state("upload",{url:"/demo",templateUrl:"templates/upload.html"}).state("pricing",{url:"/pricing",templateUrl:"templates/pricing.html"}).state("tables",{url:"/tables",templateUrl:"templates/tables.html"})}]);
"use strict";function AlertsCtrl(t,e,n,o){t.alerts=[{type:"success",msg:"Welcome to Vastrai! Check out our demo in the side panel!"}];var r=function(){n({method:"GET",url:e+"admin/token"}).then(function(e){t.apiToken=e.data,document.getElementById("apitoken").value=e.data},function(e){t.apiToken="Error getting token, contact admin"})};t.alertInit=function(){o.returnOnLogout(),r()},t.addAlert=function(){t.alerts.push({msg:"Another alert!"})},t.closeAlert=function(e){t.alerts.splice(e,1)}}angular.module("Vastrai").controller("AlertsCtrl",["$scope","API_SERVER","$http","$rootScope",AlertsCtrl]);
"use strict";function AuthCtrl(e,o,r,t,n,s){e.register=function(r){var a=r.email,l=r.password;a&&l?o.register(a,l).then(function(){t.set("You are successfully registered",{type:"success",position:"top"}),n.url("/"),console.log(s.localStorage.username),console.log(s.localStorage.token)},function(o){e.registerError=o,t.set(e.registerError,{type:"error",position:"top"})}):e.registerError="Username and password required"},e.login=function(r){var a=r.email,l=r.password;a&&l?o.login(a,l).then(function(){t.set("You are successfully logged in",{type:"success",position:"top"}),console.log(s.localStorage.username),console.log(s.localStorage.token),n.url("/")},function(o){e.loginError=o,t.set(e.loginError,{type:"error",position:"top"})}):e.loginError="Username and password required"},e.logout=function(){o.logout().then(function(){t.set("You are successfully logged out",{type:"success",position:"top"}),n.url("/login")},function(e){t.set("You are successfully logged out",{type:"success",position:"top"})})}}angular.module("Vastrai").factory("AuthService",["$q","$window","$location","$http","API_SERVER","ngNotify",function(e,o,r,t,n,s){var a=function(r,s,a){var l=n+a,u=e.defer();return t.post(l,"username="+r+"&password="+s,{headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then(function(e){var r=e.data.token,t=e.data.username;r&&t?(o.localStorage.token=r,o.localStorage.username=t,u.resolve(!0)):u.reject("Invalid data received from server")},function(e){u.reject(e.data.error)}),u.promise},l=function(){var r=e.defer(),s=n+"logout/";return t.post(s).then(function(){o.localStorage.removeItem("token"),o.localStorage.removeItem("username"),r.resolve()},function(e){o.localStorage.removeItem("token"),o.localStorage.removeItem("username"),r.reject(e.data.error)}),r.promise};return{register:function(e,o){return a(e,o,"register/")},login:function(e,o){return a(e,o,"login/")},logout:function(){return l()}}}]),angular.module("Vastrai").controller("AuthCtrl",["$scope","AuthService","$rootScope","ngNotify","$location","$window",AuthCtrl]);
"use strict";function ChartsCtrl(r){r.labels=["January","February","March","April","May","June","July"],r.series=["Series A","Series B"],r.data=[[65,59,80,81,56,55,40],[28,48,40,19,86,27,90]],r.labelsHist=["2006","2007","2008","2009","2010","2011","2012"],r.seriesHist=["Series A","Series B"],r.dataHist=[[65,59,80,81,56,55,40],[28,48,40,19,86,27,90]],r.onClick=function(r,e){console.log(r,e)}}angular.module("Vastrai").controller("ChartsCtrl",["$scope",ChartsCtrl]);
"use strict";function MasterCtrl(t,o,e,n,g){var r=992;t.getWidth=function(){return window.innerWidth},t.$watch(t.getWidth,function(e,n){e>=r?angular.isDefined(o.get("toggle"))?t.toggle=!!o.get("toggle"):t.toggle=!0:t.toggle=!1}),t.toggleSidebar=function(){t.toggle=!t.toggle,o.put("toggle",t.toggle)};var l=t.checkLogin=function(){var t;return t=!(!e.localStorage.token||""==e.localStorage.token)};n.returnOnLogout=function(){l()||g.url("/login")},n.returnOnLogin=function(){l()&&g.url("/")},window.onresize=function(){t.$apply()}}angular.module("Vastrai").controller("MasterCtrl",["$scope","$cookieStore","$window","$rootScope","$location",MasterCtrl]);
"use strict";angular.module("Vastrai").controller("TabsCtrl",[function(){this.tab=1,this.setTab=function(t){this.tab=t},this.isSet=function(t){return this.tab===t}}]);
"use strict";function UploadCrossCtrl(o,n,e,l,t){var s=o.uploader=new n({url:e+"admin/cross",headers:{Authorization:"Token "+l.localStorage.token}});s.filters.push({name:"customFilter",fn:function(o,n){return this.queue.length<10}}),o.clearCross=function(){o.crossData=[],o.$apply()},o.searchquery=function(o){console.log("will submit now",o)},o.crossData=[],s.onWhenAddingFileFailed=function(o,n,e){console.info("onWhenAddingFileFailed",o,n,e)},s.onAfterAddingFile=function(o){console.info("onAfterAddingFile",o)},s.onAfterAddingAll=function(o){console.info("onAfterAddingAll",o)},s.onBeforeUploadItem=function(o){console.info("onBeforeUploadItem",o)},s.onProgressItem=function(o,n){console.info("onProgressItem",o,n)},s.onProgressAll=function(o){console.info("onProgressAll",o)},s.onSuccessItem=function(o,n,e,l){console.info("onSuccessItem",o,n,e,l)},s.onErrorItem=function(o,n,e,l){console.info("onErrorItem",o,n,e,l)},s.onCancelItem=function(o,n,e,l){console.info("onCancelItem",o,n,e,l)},s.onCompleteItem=function(n,e,l,t){o.crossData.push(e)},s.onCompleteAll=function(){console.info("onCompleteAll")},console.info("uploader",s),console.log(t.testdata)}angular.module("Vastrai").controller("UploadCrossCtrl",["$scope","FileUploader","API_SERVER","$window","$rootScope",UploadCrossCtrl]);
"use strict";function UploadNNCtrl(o,n,e,l,t){var i=o.uploader=new n({url:e+"admin/similar",headers:{Authorization:"Token "+l.localStorage.token}});i.filters.push({name:"customFilter",fn:function(o,n){return this.queue.length<10}}),o.clearNN=function(){o.nnData=[]},o.searchquery=function(o){console.log("will submit now",o)},o.nnData=[],i.onWhenAddingFileFailed=function(o,n,e){console.info("onWhenAddingFileFailed",o,n,e)},i.onAfterAddingFile=function(o){console.info("onAfterAddingFile",o)},i.onAfterAddingAll=function(o){console.info("onAfterAddingAll",o)},i.onBeforeUploadItem=function(o){console.info("onBeforeUploadItem",o)},i.onProgressItem=function(o,n){console.info("onProgressItem",o,n)},i.onProgressAll=function(o){console.info("onProgressAll",o)},i.onSuccessItem=function(o,n,e,l){console.info("onSuccessItem",o,n,e,l)},i.onErrorItem=function(o,n,e,l){console.info("onErrorItem",o,n,e,l)},i.onCancelItem=function(o,n,e,l){console.info("onCancelItem",o,n,e,l)},i.onCompleteItem=function(n,e,l,t){o.nnData.push(e),console.log(e)},i.onCompleteAll=function(){console.info("onCompleteAll")},console.info("uploader",i),console.log(t.testdata)}angular.module("Vastrai").controller("UploadNNCtrl",["$scope","FileUploader","API_SERVER","$window","$rootScope",UploadNNCtrl]);
"use strict";angular.module("Vastrai").service("UploadService",[function(){}]);
"use strict";function UploadTagsCtrl(o,n,e,l,t){var i=o.uploader=new n({url:e+"admin/tags",headers:{Authorization:"Token "+l.localStorage.token}});i.filters.push({name:"customFilter",fn:function(o,n){return this.queue.length<10}}),o.clearTags=function(){o.tagsData=[],o.$apply()},o.searchquery=function(o){console.log("will submit now",o)},o.tagsData=[],i.onWhenAddingFileFailed=function(o,n,e){console.info("onWhenAddingFileFailed",o,n,e)},i.onAfterAddingFile=function(o){console.info("onAfterAddingFile",o)},i.onAfterAddingAll=function(o){console.info("onAfterAddingAll",o)},i.onBeforeUploadItem=function(o){console.info("onBeforeUploadItem",o)},i.onProgressItem=function(o,n){console.info("onProgressItem",o,n)},i.onProgressAll=function(o){console.info("onProgressAll",o)},i.onSuccessItem=function(o,n,e,l){console.info("onSuccessItem",o,n,e,l)},i.onErrorItem=function(o,n,e,l){console.info("onErrorItem",o,n,e,l)},i.onCancelItem=function(o,n,e,l){console.info("onCancelItem",o,n,e,l)},i.onCompleteItem=function(n,e,l,t){o.tagsData.push(e)},i.onCompleteAll=function(){console.info("onCompleteAll")},console.info("uploader",i),console.log(t.testdata)}angular.module("Vastrai").controller("UploadTagsCtrl",["$scope","FileUploader","API_SERVER","$window","$rootScope",UploadTagsCtrl]);
"use strict";function rdLoading(){var d={restrict:"AE",template:'<div class="loading"><div class="double-bounce1"></div><div class="double-bounce2"></div></div>'};return d}angular.module("Vastrai").directive("rdLoading",rdLoading);
"use strict";function rdWidgetBody(){var d={requires:"^rdWidget",scope:{loading:"@?",classes:"@?"},transclude:!0,template:'<div class="widget-body" ng-class="classes"><rd-loading ng-show="loading"></rd-loading><div ng-hide="loading" class="widget-content" ng-transclude></div></div>',restrict:"E"};return d}angular.module("Vastrai").directive("rdWidgetBody",rdWidgetBody);
"use strict";function rdWidgetFooter(){var e={requires:"^rdWidget",transclude:!0,template:'<div class="widget-footer" ng-transclude></div>',restrict:"E"};return e}angular.module("Vastrai").directive("rdWidgetFooter",rdWidgetFooter);
"use strict";function rdWidgetTitle(){var i={requires:"^rdWidget",scope:{title:"@",icon:"@"},transclude:!0,template:'<div class="widget-header"><div class="row"><div class="pull-left"><i class="fa" ng-class="icon"></i> {{title}} </div><div class="pull-right col-xs-6 col-sm-4" ng-transclude></div></div></div>',restrict:"E"};return i}angular.module("Vastrai").directive("rdWidgetHeader",rdWidgetTitle);
"use strict";function rdWidget(){var t={transclude:!0,template:'<div class="widget" ng-transclude></div>',restrict:"EA"};return t}angular.module("Vastrai").directive("rdWidget",rdWidget);
